FROM maven:3.9.6-eclipse-temurin-17

WORKDIR /app

# Copy settings.xml first to ensure it exists
COPY settings.xml /root/.m2/settings.xml

# Copy the project files
COPY . .

# Run Maven deploy with release profile
CMD ["mvn", "clean", "deploy", "-P", "release", "-f", "sdk/trade360-java-sdk/pom.xml"] 